## 📋 Requerimientos Funcionales - Fundación Atma Namasté

---

## 🔐 **MÓDULO 0: AUTENTICACIÓN Y AUTORIZACIÓN**

### Funcionalidades:
- ✅ **Login**: Inicio de sesión con email/usuario y contraseña
- ✅ **Logout**: Cerrar sesión
- ✅ **Gestión de sesión**: Mantener usuario autenticado (JWT)
- ✅ **Recuperación de contraseña**: (Opcional para MVP)

### Roles del Sistema:
1. **Administrador/Directivo**: Acceso total al sistema
2. **Docente/Responsable de Programa**: Acceso limitado a sus programas
3. **Sin autenticación**: Visitantes del sitio público

### Permisos por Rol:
| Funcionalidad | Administrador | Docente |
|---------------|---------------|---------|
| Gestión de beneficiarios | ✅ Completa | ❌ No |
| Gestión de programas | ✅ Completa | ❌ No |
| Ver inscritos de programa | ✅ Todos | ✅ Solo sus programas |
| Tomar asistencia | ✅ Sí | ✅ Solo sus programas |
| Gestión de apadrinamiento | ✅ Sí | ❌ No |
| Registro de donaciones | ✅ Sí | ❌ No |
| Gestión de recursos/gastos | ✅ Sí | ❌ No |
| Reportes | ✅ Todos | ✅ Solo sus programas |
| Gestión de usuarios | ✅ Sí | ❌ No |

---

## 👥 **MÓDULO 1: GESTIÓN DE PERSONAS/BENEFICIARIOS**

Este módulo gestiona TODAS las personas vinculadas a la fundación.

### Tipos de Personas en el Sistema:

#### 1.1 **Niños/Menores de Edad** (< 18 años)
**Datos obligatorios:**
- Información personal: Nombre completo, documento de identidad, fecha de nacimiento, edad
- Información de contacto: Dirección, teléfono
- Información educativa: Institución educativa, grado actual
- **Tutor/Representante legal** (OBLIGATORIO): Relación con tutor registrado
- Consentimiento informado de uso de imagen
- Fotografía (opcional)
- Estado: Activo/Inactivo

**Relaciones:**
- Tiene 1 tutor (obligatorio)
- Puede estar en múltiples programas
- Puede tener 1 padrino (apadrinamiento)

#### 1.2 **Tutores/Representantes Legales**
**Datos obligatorios:**
- Información personal: Nombre completo, cédula, fecha de nacimiento
- Información de contacto: Dirección, teléfono, email (opcional)
- Parentesco con el/los menor(es): Padre, Madre, Abuelo, Tío, etc.
- Estado: Activo/Inactivo

**Características especiales:**
- Pueden ser SOLO tutores (no inscritos a programas)
- O pueden ser tutores Y beneficiarios (inscritos a programas para adultos)

**Relaciones:**
- Tiene 1 o más menores a cargo
- Puede estar inscrito en programas (ej: meditación)

#### 1.3 **Jóvenes y Adultos** (≥ 18 años)
**Datos obligatorios:**
- Información personal: Nombre completo, cédula, fecha de nacimiento
- Información de contacto: Dirección, teléfono, email
- Si es estudiante universitario: Institución, programa académico, semestre
- Estado: Activo/Inactivo

**Relaciones:**
- Pueden estar en múltiples programas
- No requieren tutor

#### 1.4 **Docentes/Responsables de Programas**
**Datos obligatorios:**
- Información personal: Nombre completo, cédula
- Información de contacto: Teléfono, email
- Especialidad/Área: Danza, música, pintura, etc.
- Usuario y contraseña para acceso al sistema
- Estado: Activo/Inactivo

**Relaciones:**
- Asignado a 1 o más programas como responsable
- Puede tomar asistencia en sus programas

#### 1.5 **Personal Administrativo**
**Datos obligatorios:**
- Información personal: Nombre completo, cédula
- Información de contacto: Teléfono, email
- Cargo: Directivo, Coordinador, Asistente, etc.
- Usuario y contraseña para acceso al sistema
- Estado: Activo/Inactivo

**Relaciones:**
- Acceso completo al sistema

#### 1.6 **Otro Personal** (Aseadora, etc.)
**Datos obligatorios:**
- Información personal: Nombre completo, cédula
- Cargo: Aseadora, Portero, etc.
- Información de contacto
- Estado: Activo/Inactivo

**Relaciones:**
- Solo para registro de pagos
- No tienen acceso al sistema

### Funcionalidades del Módulo:

#### Para Administradores:
- ✅ **Registrar beneficiario**: Formulario con validaciones según tipo de persona
  - Si es menor: Obligar selección/creación de tutor
  - Si es tutor: Permitir vincular menores existentes o crear nuevos
- ✅ **Listar beneficiarios**: 
  - Filtros: Por tipo (niños, adultos, tutores, docentes), por programa, por estado
  - Búsqueda: Por nombre, documento
  - Paginación
- ✅ **Ver detalle de beneficiario**:
  - Información completa
  - Programas inscritos (con fechas)
  - Si es menor: Ver tutor y padrino
  - Si es tutor: Ver menores a cargo
  - Historial de asistencias
- ✅ **Editar beneficiario**: Actualizar información
- ✅ **Desactivar beneficiario**: No eliminar, solo marcar como inactivo
- ✅ **Reactivar beneficiario**: Volver a activar
- ✅ **Vincular/desvincular de programas**
- ✅ **Exportar listado**: PDF o Excel con filtros aplicados

---

## 📚 **MÓDULO 2: GESTIÓN DE PROGRAMAS**

Gestiona todos los programas académicos, lúdicos y de apoyo de la fundación.

### Tipos de Programas:

1. **Programa de Mercados** (Entrega mensual)
2. **Refuerzo Escolar** (Primaria y Bachillerato)
3. **Artes Plásticas/Pintura** (Por grupos de edad)
4. **Danza** (Varios niveles)
5. **Escuela de Iniciación Musical** (Coro e instrumentos)
6. **Becas Estudiantiles y Profesionales (BESPRO)**
7. **Programa de Meditación** (Adultos)
8. **Apadrinamiento** (Programa especial)

### Datos de un Programa:
- Nombre del programa
- Descripción
- Tipo: Académico, Lúdico, Apoyo Social
- Público objetivo: Niños, Jóvenes, Adultos, Todos
- Rango de edad: Mínimo y máximo (si aplica)
- Días de actividad: Lunes, Martes, etc.
- Horario: Hora inicio y fin
- Requiere docente: Sí/No
- Responsable(s): Uno o más docentes/coordinadores asignados
- Estado: Activo/Inactivo
- Fecha de creación
- Fecha de última modificación

### Funcionalidades del Módulo:

#### Para Administradores:
- ✅ **Crear programa**: Formulario completo
- ✅ **Listar programas**:
  - Filtros: Por tipo, por público, por estado
  - Ver cantidad de inscritos por programa
- ✅ **Ver detalle de programa**:
  - Información completa
  - Listado de inscritos (con opción de exportar)
  - Responsables asignados
  - Estadísticas: Total inscritos, asistencia promedio
- ✅ **Editar programa**: Actualizar información
- ✅ **Activar/Desactivar programa**
- ✅ **Asignar/remover responsables**: Vincular docentes al programa
- ✅ **Gestionar inscritos**:
  - Inscribir beneficiario al programa (con fecha de inscripción)
  - Desinscribir beneficiario (con fecha de desvinculación)
  - Ver historial de inscripciones
- ✅ **Exportar datos del programa**: PDF o Excel

#### Para Docentes:
- ✅ **Ver mis programas**: Solo programas donde es responsable
- ✅ **Ver inscritos de mi programa**:
  - Lista completa con datos básicos
  - Exportar a PDF/Excel

---

## 📝 **MÓDULO 3: REGISTRO DE ASISTENCIAS**

Permite llevar control de la asistencia de los beneficiarios a los programas.

### Datos de una Asistencia:
- Programa
- Fecha
- Beneficiario
- Estado: Presente, Ausente, Justificado
- Observaciones (opcional)
- Registrado por: Usuario que tomó asistencia
- Fecha y hora de registro

### Funcionalidades del Módulo:

#### Para Administradores:
- ✅ **Tomar asistencia**:
  - Seleccionar programa y fecha
  - Lista de inscritos del programa
  - Marcar presente/ausente/justificado para cada uno
  - Guardar asistencia del día
- ✅ **Ver historial de asistencias**:
  - Por programa
  - Por beneficiario
  - Por rango de fechas
  - Estadísticas: % de asistencia por beneficiario
- ✅ **Editar asistencia**: Corregir errores (solo del día actual o reciente)
- ✅ **Exportar asistencias**: PDF o Excel con filtros

#### Para Docentes:
- ✅ **Tomar asistencia**: Solo en sus programas asignados
- ✅ **Ver historial de asistencias**: Solo de sus programas
- ✅ **Exportar asistencias**: Solo de sus programas

---

## 🤝 **MÓDULO 4: GESTIÓN DE APADRINAMIENTO**

Gestiona la relación entre padrinos y niños apadrinados.

### Datos de un Padrino:
- Nombre completo
- País de origen
- Email
- Teléfono (opcional)
- Tipo de donación: Monetaria, En especie, Ambas
- Frecuencia de donación: Mensual, Trimestral, Anual, Ocasional
- Fecha de inicio de apadrinamiento
- Estado: Activo/Inactivo
- Preferencia de privacidad: Los padrinos NO quieren que sus donaciones sean públicas

### Relación Padrino-Apadrinado:
- Un padrino puede tener 1 o más niños apadrinados
- Un niño puede tener 1 padrino (o ninguno)
- Fecha de inicio de la relación
- Estado: Activa/Finalizada
- Fecha de finalización (si aplica)

### Funcionalidades del Módulo:

#### Para Administradores (SOLO):
- ✅ **Registrar padrino**: Formulario con datos del padrino
- ✅ **Listar padrinos**:
  - Filtros: Por estado, por país
  - Búsqueda por nombre
- ✅ **Ver detalle de padrino**:
  - Información completa
  - Lista de niños apadrinados
  - Historial de donaciones realizadas
- ✅ **Editar padrino**: Actualizar información
- ✅ **Desactivar padrino**
- ✅ **Asignar niño a padrino**:
  - Seleccionar niño (menores sin padrino o cambiar padrino)
  - Fecha de inicio de apadrinamiento
- ✅ **Finalizar apadrinamiento**:
  - Desvincular niño de padrino
  - Fecha de finalización
  - Motivo (opcional)
- ✅ **Registrar donación de padrino**: (Ver Módulo 5)
- ✅ **Exportar datos**: Padrinos, apadrinados, historial

**⚠️ IMPORTANTE**: Este módulo es completamente privado, los docentes NO tienen acceso.

---

## 💰 **MÓDULO 5: REGISTRO DE DONACIONES Y AYUDAS**

Gestiona el registro de donaciones recibidas y ayudas entregadas.

### 5.1 **Registro de Donaciones Recibidas**

#### Tipos de Donaciones:
1. **Donación de Padrino**: Vinculada a un padrino específico y su apadrinado
2. **Donación General/Anónima**: No vinculada a padrino ni programa específico
3. **Donación para Programa**: Destinada a un programa específico

#### Datos de una Donación:
- Tipo de donación: Padrino, General, Para programa
- Si es de padrino: Padrino asociado y apadrinado beneficiado
- Si es para programa: Programa asociado
- Si es anónima: Marcar como "Donador anónimo"
- Si tiene donador: Nombre del donador (puede ser organización)
- Tipo de recurso: Monetaria, En especie
- Si es monetaria: Monto en pesos (COP)
- Si es en especie: Descripción de los items donados
- Fecha de recepción
- Método de recepción: Transferencia, Giro internacional, Efectivo, Otro
- Descripción/Observaciones
- Registrado por: Usuario admin que registra
- Fecha de registro en el sistema

### 5.2 **Registro de Ayudas Entregadas**

Registro de los apoyos y recursos entregados a beneficiarios.

#### Tipos de Ayudas:
1. **Entrega de Mercados** (Mensual)
2. **Ayuda Económica BESPRO** (Becas)
3. **Entrega de Útiles Escolares** (Apadrinamiento)
4. **Entrega de Ropa/Zapatos** (Apadrinamiento)
5. **Ayuda Puntual** (Matrículas, medicamentos, etc.)

#### Datos de una Ayuda Entregada:
- Tipo de ayuda
- Programa asociado: Mercados, BESPRO, Apadrinamiento, Otro
- Beneficiario(s): Uno o múltiples (ej: entrega masiva de mercados)
- Fecha de entrega programada
- Fecha real de entrega
- Tipo de recurso: Monetaria, En especie
- Si es monetaria: Monto
- Si es en especie: Descripción de items entregados
- Estado: Programada, Entregada, Cancelada
- Confirmación de recibido: Firma digital o archivo adjunto (opcional)
- Observaciones
- Registrado por: Usuario admin

### Funcionalidades del Módulo:

#### Para Administradores:
- ✅ **Registrar donación recibida**:
  - Formulario dinámico según tipo de donación
  - Si es de padrino: Seleccionar padrino y apadrinado
  - Si es para programa: Seleccionar programa
- ✅ **Listar donaciones recibidas**:
  - Filtros: Por tipo, por fecha, por padrino, por programa
  - Ver totales: Total monetario, cantidad de donaciones
- ✅ **Ver detalle de donación**: Información completa
- ✅ **Editar/Eliminar donación**: Por si hubo error en el registro
- ✅ **Registrar ayuda a entregar**:
  - Seleccionar tipo de ayuda
  - Seleccionar beneficiario(s)
  - Programar fecha de entrega
- ✅ **Listar ayudas**:
  - Filtros: Por tipo, por estado, por fecha, por programa
  - Vista de entregas pendientes
- ✅ **Confirmar entrega de ayuda**:
  - Cambiar estado a "Entregada"
  - Registrar fecha real de entrega
  - Subir firma/comprobante (opcional)
- ✅ **Ver detalle de ayuda**: Información completa
- ✅ **Editar ayuda**: Actualizar información
- ✅ **Cancelar ayuda**: Cambiar estado a cancelada con motivo
- ✅ **Exportar datos**: Donaciones y ayudas con filtros

**Ejemplos de uso real:**
- "El 15 de octubre se entregaron mercados a 30 familias"
- "El 8 de noviembre se entregó ayuda económica de $500,000 a 5 estudiantes BESPRO"
- "A Jimena del BESPRO el 9 de diciembre se le ayudó con $2,500,000 para matrícula"

---

## 💸 **MÓDULO 6: GESTIÓN DE RECURSOS/GASTOS**

Registro del destino de los recursos económicos de la fundación. **NO es contabilidad completa**, solo registro de gastos.

### Categorías de Gastos:
1. **Pago de Personal**:
   - Docentes
   - Personal administrativo
   - Personal de aseo
   - Otro personal
2. **Gastos Operativos**:
   - Servicios públicos (luz, agua, internet)
   - Arriendo de sede (si aplica)
   - Transporte
3. **Gastos de Programas**:
   - Materiales e insumos (pintura, instrumentos, etc.)
   - Empaque de mercados
   - Transporte de mercados
4. **Eventos y Actividades**:
   - Organización de eventos
   - Materiales para eventos
5. **Otros Gastos**

### Datos de un Gasto:
- Categoría
- Subcategoría/Concepto: Descripción específica
- Si es pago a personal: Persona asociada del sistema
- Si es para programa: Programa asociado
- Monto
- Fecha del gasto
- Método de pago: Efectivo, Transferencia, Otro
- Comprobante: Archivo adjunto (opcional)
- Descripción/Observaciones
- Registrado por: Usuario admin
- Fecha de registro

### Funcionalidades del Módulo:

#### Para Administradores:
- ✅ **Registrar gasto**:
  - Formulario dinámico según categoría
  - Si es pago a personal: Seleccionar persona del sistema
  - Si es para programa: Seleccionar programa
- ✅ **Listar gastos**:
  - Filtros: Por categoría, por fecha, por programa, por persona
  - Ver totales por categoría
  - Ver total general
- ✅ **Ver detalle de gasto**: Información completa
- ✅ **Editar/Eliminar gasto**: Corregir errores
- ✅ **Dashboard de gastos**:
  - Gráfico de gastos por categoría
  - Comparativa por meses
  - Top gastos del mes
- ✅ **Exportar gastos**: PDF o Excel con filtros

---

## 📊 **MÓDULO 7: REPORTES Y ESTADÍSTICAS**

Generación de reportes para toma de decisiones y rendición de cuentas.

### Reportes Disponibles:

#### Para Administradores:
- ✅ **Reporte de Beneficiarios**:
  - Total de beneficiarios por tipo (niños, adultos, tutores)
  - Beneficiarios por programa
  - Beneficiarios activos vs inactivos
  - Exportar listado completo
  
- ✅ **Reporte de Programas**:
  - Listado de programas con cantidad de inscritos
  - Programas más y menos concurridos
  - Exportar datos de programa específico
  
- ✅ **Reporte de Asistencias**:
  - Asistencia por programa (rango de fechas)
  - Asistencia por beneficiario
  - % de asistencia promedio
  - Beneficiarios con baja asistencia (alertas)
  
- ✅ **Reporte de Apadrinamiento**:
  - Total de padrinos activos
  - Total de niños apadrinados vs sin apadrinar
  - Donaciones recibidas por padrino
  - Donaciones totales por período
  
- ✅ **Reporte Financiero Básico**:
  - Total de donaciones recibidas (por período)
  - Total de ayudas entregadas (por período)
  - Total de gastos (por período)
  - Balance simple: Ingresos - Egresos
  - Gráficos: Gastos por categoría, donaciones por mes
  
- ✅ **Reporte de Entregas Pendientes**:
  - Ayudas programadas pendientes de entregar
  - Filtro por tipo de ayuda y fecha

#### Para Docentes:
- ✅ **Reporte de mis programas**:
  - Listado de inscritos
  - Asistencias de mis programas
  - Exportar datos

---

## 🌐 **MÓDULO 8: SITIO WEB PÚBLICO**

Sitio informativo para visitantes e interesados en la fundación.

### Páginas del Sitio Público:

#### 8.1 **Página de Inicio (Home)**
- Hero section con mensaje de bienvenida
- Misión y visión de la fundación
- Resumen de programas (con imágenes)
- Llamado a la acción: "Conoce más", "Contáctanos"
- Galería de fotos (opcional)

#### 8.2 **Página "Sobre Nosotros"**
- Historia de la fundación (desde 2009)
- Equipo directivo (opcional)
- Logros y reconocimientos
- Aliados y patrocinadores

#### 8.3 **Página "Programas"**
- Listado de todos los programas con descripción
- Público objetivo de cada programa
- Días y horarios (si es público)
- Imágenes representativas

#### 8.4 **Página "Galería"** (Opcional)
- Fotos de actividades
- Videos de eventos
- Testimonios (opcional)

#### 8.5 **Página "Contáctanos"**
- Información de contacto:
  - Dirección: Barrio El Páramo, Valledupar
  - Teléfono
  - Email
  - Redes sociales
- Formulario de contacto:
  - Nombre
  - Email
  - Teléfono
  - Mensaje
  - Envío de mensaje (almacenado en BD o enviado por email)

#### 8.6 **Página "Cómo Ayudar"** (Opcional)
- Información sobre donaciones
- Formas de colaborar
- Programa de apadrinamiento (info general, sin detalles privados)

### Funcionalidades:

#### Para Visitantes:
- ✅ **Navegar por el sitio**: Todas las páginas públicas
- ✅ **Ver información de programas**
- ✅ **Enviar mensaje de contacto**
- ✅ **Responsive**: Adaptado a móviles y tablets

#### Para Administradores:
- ✅ **Ver mensajes de contacto recibidos**
- ✅ **Editar contenido del sitio** (Opcional para MVP):
  - Textos de páginas
  - Imágenes
  - Información de programas

---

## 👤 **MÓDULO 9: GESTIÓN DE USUARIOS DEL SISTEMA**

Gestión de usuarios con acceso al sistema (admin y docentes).

### Funcionalidades:

#### Para Administradores:
- ✅ **Crear usuario**:
  - Vincular a persona del sistema (docente o administrativo)
  - Asignar rol: Admin o Docente
  - Asignar usuario y contraseña temporal
  - Estado: Activo/Inactivo
  
- ✅ **Listar usuarios**:
  - Filtros: Por rol, por estado
  - Ver último acceso
  
- ✅ **Ver detalle de usuario**:
  - Información de acceso
  - Historial de actividad (opcional)
  
- ✅ **Editar usuario**:
  - Cambiar rol
  - Cambiar contraseña
  - Activar/Desactivar
  
- ✅ **Eliminar usuario**: Desactivar acceso
  
- ✅ **Asignar programas a docente**: Vincular docente a programas

#### Para Todos los Usuarios:
- ✅ **Ver mi perfil**
- ✅ **Cambiar mi contraseña**
- ✅ **Actualizar datos de contacto**

---

## 📱 **FUNCIONALIDADES TRANSVERSALES**

Funcionalidades que aplican a todos o varios módulos:

### Para Todos:
- ✅ **Dashboard personalizado por rol**:
  - Admin: Estadísticas generales, accesos rápidos
  - Docente: Mis programas, asistencias pendientes
  
- ✅ **Notificaciones** (Opcional para MVP):
  - Entregas pendientes
  - Nuevas inscripciones
  
- ✅ **Búsqueda global**: Buscar beneficiarios, programas, etc.

- ✅ **Exportación**: PDF y Excel en listados principales

- ✅ **Responsive**: Funciona en desktop, tablet y móvil

- ✅ **Validaciones**: Formularios con validaciones claras

- ✅ **Mensajes de confirmación**: "¿Estás seguro?" en acciones importantes

---

## 🎯 **RESUMEN DE MÓDULOS**

| # | Módulo | Usuarios | Prioridad |
|---|--------|----------|-----------|
| 0 | Autenticación | Todos | 🔴 Alta |
| 1 | Gestión de Personas | Admin | 🔴 Alta |
| 2 | Gestión de Programas | Admin | 🔴 Alta |
| 3 | Asistencias | Admin, Docente | 🟡 Media |
| 4 | Apadrinamiento | Solo Admin | 🟡 Media |
| 5 | Donaciones y Ayudas | Solo Admin | 🟡 Media |
| 6 | Gastos/Recursos | Solo Admin | 🟢 Baja |
| 7 | Reportes | Admin, Docente | 🟢 Baja |
| 8 | Sitio Público | Visitantes | 🟡 Media |
| 9 | Gestión de Usuarios | Admin | 🔴 Alta |

---

## ✅ **VALIDACIÓN: ¿Está todo contemplado?**

Basándome en el documento original, **SÍ**, todos los requerimientos están contemplados:

✅ Gestión de beneficiarios (niños, tutores, adultos, docentes)  
✅ Gestión de programas  
✅ Inscripciones con relación clara padres-hijos  
✅ Apadrinamiento con privacidad  
✅ Registro de donaciones (NO sistema de pagos)  
✅ Registro de ayudas entregadas  
✅ Registro de gastos (NO contabilidad completa)  
✅ Asistencias  
✅ Roles diferenciados (admin/docente)  
✅ Reportes exportables  
✅ Sitio web público  

---

## 🚀 **SIGUIENTE PASO**

Ahora que tienes los requerimientos funcionales claros, ¿quieres que procedamos con:

1. **Diseño de la Base de Datos** (schema.prisma) - Modelar todas las entidades y relaciones
2. **Definir el MVP** - Priorizar qué hacer primero
3. **Crear la estructura inicial del proyecto** - Carpetas y archivos base

¿Por cuál empezamos?